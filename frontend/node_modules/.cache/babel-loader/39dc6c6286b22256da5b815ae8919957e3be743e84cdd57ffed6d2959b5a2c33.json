{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kadas\\\\Desktop\\\\KA31\\\\frontend\\\\src\\\\pages\\\\HotelsList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { hotelAPI } from '../services/api';\nimport HotelCard from '../components/HotelCard';\nimport FilterBar from '../components/FilterBar';\nimport { FaFilter, FaTimes } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HotelsList = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [hotels, setHotels] = useState([]);\n  const [filteredHotels, setFilteredHotels] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    minPrice: '',\n    maxPrice: '',\n    minRating: ''\n  });\n  useEffect(() => {\n    fetchHotels();\n  }, [searchParams]);\n  const fetchHotels = async () => {\n    setLoading(true);\n    try {\n      const params = {\n        location: searchParams.get('location'),\n        checkin: searchParams.get('checkin'),\n        checkout: searchParams.get('checkout')\n      };\n      const response = await hotelAPI.search(params);\n      setHotels(response.data.hotels);\n      setFilteredHotels(response.data.hotels);\n    } catch (error) {\n      console.error('Error fetching hotels:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const applyFilters = () => {\n    let filtered = [...hotels];\n    if (filters.minPrice) {\n      filtered = filtered.filter(hotel => parseFloat(hotel.min_price) >= parseFloat(filters.minPrice));\n    }\n    if (filters.maxPrice) {\n      filtered = filtered.filter(hotel => parseFloat(hotel.min_price) <= parseFloat(filters.maxPrice));\n    }\n    if (filters.minRating) {\n      filtered = filtered.filter(hotel => parseFloat(hotel.overallrating) >= parseFloat(filters.minRating));\n    }\n    setFilteredHotels(filtered);\n    setShowFilters(false);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: \"Loading hotels...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hotels-list-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Available Hotels\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"filter-toggle-btn\",\n        onClick: () => setShowFilters(!showFilters),\n        children: [showFilters ? /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(FaFilter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 40\n        }, this), showFilters ? ' Close Filters' : ' Show Filters']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hotels-content\",\n      children: [showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-sidebar\",\n        children: /*#__PURE__*/_jsxDEV(FilterBar, {\n          filters: filters,\n          setFilters: setFilters,\n          onApply: applyFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hotels-grid-container\",\n        children: filteredHotels.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"results-count\",\n            children: [filteredHotels.length, \" hotels found\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hotels-grid\",\n            children: filteredHotels.map(hotel => /*#__PURE__*/_jsxDEV(HotelCard, {\n              hotel: hotel\n            }, hotel.hotelid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No hotels found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Try adjusting your filters or search criteria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(HotelsList, \"pnfDJEf62U04XGjRcsqeYWGRP7Y=\", false, function () {\n  return [useSearchParams];\n});\n_c = HotelsList;\nexport default HotelsList;\nvar _c;\n$RefreshReg$(_c, \"HotelsList\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","hotelAPI","HotelCard","FilterBar","FaFilter","FaTimes","jsxDEV","_jsxDEV","Fragment","_Fragment","HotelsList","_s","searchParams","hotels","setHotels","filteredHotels","setFilteredHotels","loading","setLoading","showFilters","setShowFilters","filters","setFilters","minPrice","maxPrice","minRating","fetchHotels","params","location","get","checkin","checkout","response","search","data","error","console","applyFilters","filtered","filter","hotel","parseFloat","min_price","overallrating","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onApply","length","map","hotelid","_c","$RefreshReg$"],"sources":["C:/Users/kadas/Desktop/KA31/frontend/src/pages/HotelsList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { hotelAPI } from '../services/api';\r\nimport HotelCard from '../components/HotelCard';\r\nimport FilterBar from '../components/FilterBar';\r\nimport { FaFilter, FaTimes } from 'react-icons/fa';\r\n\r\nconst HotelsList = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [hotels, setHotels] = useState([]);\r\n  const [filteredHotels, setFilteredHotels] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    minPrice: '',\r\n    maxPrice: '',\r\n    minRating: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchHotels();\r\n  }, [searchParams]);\r\n\r\n  const fetchHotels = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        location: searchParams.get('location'),\r\n        checkin: searchParams.get('checkin'),\r\n        checkout: searchParams.get('checkout')\r\n      };\r\n\r\n      const response = await hotelAPI.search(params);\r\n      setHotels(response.data.hotels);\r\n      setFilteredHotels(response.data.hotels);\r\n    } catch (error) {\r\n      console.error('Error fetching hotels:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const applyFilters = () => {\r\n    let filtered = [...hotels];\r\n\r\n    if (filters.minPrice) {\r\n      filtered = filtered.filter(hotel => \r\n        parseFloat(hotel.min_price) >= parseFloat(filters.minPrice)\r\n      );\r\n    }\r\n\r\n    if (filters.maxPrice) {\r\n      filtered = filtered.filter(hotel => \r\n        parseFloat(hotel.min_price) <= parseFloat(filters.maxPrice)\r\n      );\r\n    }\r\n\r\n    if (filters.minRating) {\r\n      filtered = filtered.filter(hotel => \r\n        parseFloat(hotel.overallrating) >= parseFloat(filters.minRating)\r\n      );\r\n    }\r\n\r\n    setFilteredHotels(filtered);\r\n    setShowFilters(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading-container\">Loading hotels...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"hotels-list-page\">\r\n      <div className=\"page-header\">\r\n        <h1>Available Hotels</h1>\r\n        <button className=\"filter-toggle-btn\" onClick={() => setShowFilters(!showFilters)}>\r\n          {showFilters ? <FaTimes /> : <FaFilter />}\r\n          {showFilters ? ' Close Filters' : ' Show Filters'}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"hotels-content\">\r\n        {showFilters && (\r\n          <div className=\"filters-sidebar\">\r\n            <FilterBar \r\n              filters={filters} \r\n              setFilters={setFilters} \r\n              onApply={applyFilters}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"hotels-grid-container\">\r\n          {filteredHotels.length > 0 ? (\r\n            <>\r\n              <p className=\"results-count\">{filteredHotels.length} hotels found</p>\r\n              <div className=\"hotels-grid\">\r\n                {filteredHotels.map((hotel) => (\r\n                  <HotelCard key={hotel.hotelid} hotel={hotel} />\r\n                ))}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"no-results\">\r\n              <h3>No hotels found</h3>\r\n              <p>Try adjusting your filters or search criteria</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HotelsList;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,kBAAkB;AAClD,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,QAAQ,EAAEC,OAAO,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,YAAY,CAAC,GAAGZ,eAAe,CAAC,CAAC;EACxC,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC;IACrCyB,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF1B,SAAS,CAAC,MAAM;IACd2B,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACd,YAAY,CAAC,CAAC;EAElB,MAAMc,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9BR,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMS,MAAM,GAAG;QACbC,QAAQ,EAAEhB,YAAY,CAACiB,GAAG,CAAC,UAAU,CAAC;QACtCC,OAAO,EAAElB,YAAY,CAACiB,GAAG,CAAC,SAAS,CAAC;QACpCE,QAAQ,EAAEnB,YAAY,CAACiB,GAAG,CAAC,UAAU;MACvC,CAAC;MAED,MAAMG,QAAQ,GAAG,MAAM/B,QAAQ,CAACgC,MAAM,CAACN,MAAM,CAAC;MAC9Cb,SAAS,CAACkB,QAAQ,CAACE,IAAI,CAACrB,MAAM,CAAC;MAC/BG,iBAAiB,CAACgB,QAAQ,CAACE,IAAI,CAACrB,MAAM,CAAC;IACzC,CAAC,CAAC,OAAOsB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,SAAS;MACRjB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMmB,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIC,QAAQ,GAAG,CAAC,GAAGzB,MAAM,CAAC;IAE1B,IAAIQ,OAAO,CAACE,QAAQ,EAAE;MACpBe,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAACC,KAAK,IAC9BC,UAAU,CAACD,KAAK,CAACE,SAAS,CAAC,IAAID,UAAU,CAACpB,OAAO,CAACE,QAAQ,CAC5D,CAAC;IACH;IAEA,IAAIF,OAAO,CAACG,QAAQ,EAAE;MACpBc,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAACC,KAAK,IAC9BC,UAAU,CAACD,KAAK,CAACE,SAAS,CAAC,IAAID,UAAU,CAACpB,OAAO,CAACG,QAAQ,CAC5D,CAAC;IACH;IAEA,IAAIH,OAAO,CAACI,SAAS,EAAE;MACrBa,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAACC,KAAK,IAC9BC,UAAU,CAACD,KAAK,CAACG,aAAa,CAAC,IAAIF,UAAU,CAACpB,OAAO,CAACI,SAAS,CACjE,CAAC;IACH;IAEAT,iBAAiB,CAACsB,QAAQ,CAAC;IAC3BlB,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,IAAIH,OAAO,EAAE;IACX,oBAAOV,OAAA;MAAKqC,SAAS,EAAC,mBAAmB;MAAAC,QAAA,EAAC;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACnE;EAEA,oBACE1C,OAAA;IAAKqC,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAC/BtC,OAAA;MAAKqC,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BtC,OAAA;QAAAsC,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzB1C,OAAA;QAAQqC,SAAS,EAAC,mBAAmB;QAACM,OAAO,EAAEA,CAAA,KAAM9B,cAAc,CAAC,CAACD,WAAW,CAAE;QAAA0B,QAAA,GAC/E1B,WAAW,gBAAGZ,OAAA,CAACF,OAAO;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAG1C,OAAA,CAACH,QAAQ;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACxC9B,WAAW,GAAG,gBAAgB,GAAG,eAAe;MAAA;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN1C,OAAA;MAAKqC,SAAS,EAAC,gBAAgB;MAAAC,QAAA,GAC5B1B,WAAW,iBACVZ,OAAA;QAAKqC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BtC,OAAA,CAACJ,SAAS;UACRkB,OAAO,EAAEA,OAAQ;UACjBC,UAAU,EAAEA,UAAW;UACvB6B,OAAO,EAAEd;QAAa;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,eAED1C,OAAA;QAAKqC,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EACnC9B,cAAc,CAACqC,MAAM,GAAG,CAAC,gBACxB7C,OAAA,CAAAE,SAAA;UAAAoC,QAAA,gBACEtC,OAAA;YAAGqC,SAAS,EAAC,eAAe;YAAAC,QAAA,GAAE9B,cAAc,CAACqC,MAAM,EAAC,eAAa;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACrE1C,OAAA;YAAKqC,SAAS,EAAC,aAAa;YAAAC,QAAA,EACzB9B,cAAc,CAACsC,GAAG,CAAEb,KAAK,iBACxBjC,OAAA,CAACL,SAAS;cAAqBsC,KAAK,EAAEA;YAAM,GAA5BA,KAAK,CAACc,OAAO;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiB,CAC/C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA,eACN,CAAC,gBAEH1C,OAAA;UAAKqC,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtC,OAAA;YAAAsC,QAAA,EAAI;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxB1C,OAAA;YAAAsC,QAAA,EAAG;UAA6C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACtC,EAAA,CAzGID,UAAU;EAAA,QACSV,eAAe;AAAA;AAAAuD,EAAA,GADlC7C,UAAU;AA2GhB,eAAeA,UAAU;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}